<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>POGNON !!!</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Orbitron">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
		integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
		integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
		crossorigin="anonymous"></script>
	<style>
		/* General */
		html {
			height: 100vh;
		}

		body {
			font-family: "Orbitron", Tahoma, Geneva, Verdana, sans-serif;
			margin: 50px 35px;
			background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
			color: whitesmoke;
			overflow-y: hidden;
		}

		h5 {
			font-weight: bold;
		}

		.input-container {
			margin: 10px 0;
			line-height: 1.5em;
		}

		.input-group-text {
			background-color: cornflowerblue;
			color: darkblue;
			font-weight: 600;
		}



		/* Logos */
		.logo-banner {
			width: 150px;
			height: 150px;
		}

		.logo-banner-footer-container {
			flex-direction: row;
			align-self: center;
		}

		/* Tools utils */
		.dnone {
			display: none;
		}

		.isVisible {
			display: flex;
			flex-direction: column;
			flex: auto;
		}

		/* Choix division */
		.step-buttons-container {
			position: relative;
			top: 30vh;
			left: 40vw;
			flex: none;
		}

		/* Formulaire de saisie */
		.form-control {
			background-color: #494F65;
			color: #ffc107;
			font-weight: 500;
		}

		.form-control:focus {
			background-color: #575f7a;
			color: #eecc67;
			font-weight: 600;
		}

		.btn-calc {
			width: 63px;
			border-radius: 131px;
			height: 61px;
			font-weight: bold;
			color: darkblue;
		}

		.result {
			font-size: 18px;
			font-weight: 500;
			color: yellowgreen;
			text-align: center;
			border-right-style: double;
			text-align-last: end;
			padding-right: 22px;
			letter-spacing: 1px;
		}

		/* Modale */
		.btn-modale-container {
			position: relative;
			top: 0px;
			left: 10px;
		}

		.modal-content {
			height: 72vh;
			border-radius: 15px;
		}

		.modal-header {
			background-color: darkgrey;
			border-radius: 15px 15px 0 0;
		}

		.modal-title {
			color: darkgreen;
		}

		.modal-body {
			background-color: lightslategrey;
		}

		.modal-footer {
			background-color: grey;
			border-radius: 0 0  15px 15px;
		}

	</style>
</head>

<body>

	<div class="d-flex" style="min-width:450px;">

		<div id="step0" class="step-buttons-container isVisible">
			<button type="button" class="btn btn-outline-primary mb-2" onclick="goToStep(1)">Commerce</button>
			<button type="button" class="btn btn-outline-warning" onclick="goToStep(2)">Minage</button>
		</div>

		<!-- ZONE COMMERCE -->
		<div id="step1" class="dnone">

			<!-- ALERT -->
			<div class="btn-modale-container">
				<div class="align-self-center">
					<button type="button" class="btn btn-primary mx-4 btn-calc" data-toggle="modal"
						data-target="#staticBackdrop">
						$
					</button>
					<div class="alert alert-success alert-dismissible fade show d-none d-md-inline-flex" role="alert">
						<span>Suivi des runs pour calcul des bénéfices...<br><b>En cours de dev...</b><br>- Remplir le
							champs 'Nb Pilotes' pour
							avoir le bon nombre de champs</span>
						<button type="button" class="close" data-dismiss="alert" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>
			</div>

			<!-- TITRE -->
			<div class="justify-content text-align-center align-self-center d-none d-xs-none d-lg-block"
				style="text-align:center;">
				<h2>Commerce<br>Repartition des gains</h2>
			</div>

			<!-- INPUTS -->
			<div class="justify-content align-self-center">
				<!-- EDITABLE -->
				<div class="d-flex flex-row input-container">

					<div class="flex-column">

						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="basic-addon1">Benefs</span>
							</div>
							<input type="number" class="form-control benefsTotal" placeholder="$$$..."
								aria-label="Benefs" aria-describedby="basic-addon1" value="" min="1" oninput="calc()">
							<div class="input-group-append">
								<span class="input-group-text">aUEC</span>
							</div>
						</div>
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="basic-addon2">Nb Pilotes</span>
							</div>
							<input type="number" class="form-control pilotesTotal" placeholder=""
								aria-label="Nb pilotes" aria-describedby="basic-addon2" value="1" min="1"
								oninput="calc()">
						</div>
					</div>

				</div>

				<hr><br>
				<div class="input-container">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="basic-addon3">SARD</span>
						</div>
						<input type="nu;ber" class="form-control percentSard" placeholder="% SARD" aria-label="% SARD"
							aria-describedby="basic-addon3" value="10" oninput="calc()">
						<div class="input-group-append">
							<span class="input-group-text">%</span>
						</div>
					</div>
				</div>

				<div class="input-container">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="basic-addon4">Pilotes</span>
						</div>
						<input type="nu;ber" class="form-control percentPilote" placeholder="% Pilotes"
							aria-label="% Pilotes" aria-describedby="basic-addon4" value="40" oninput="calc()">
						<div class="input-group-append">
							<span class="input-group-text">%</span>
						</div>
					</div>
				</div>

				<div class="input-container">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="basic-addon5">Invest.</span>
						</div>
						<input type="nu;ber" class="form-control percentInvest" placeholder="% Invest."
							aria-label="% Invest." aria-describedby="basic-addon3" value="50" oninput="calc()">
						<div class="input-group-append">
							<span class="input-group-text">%</span>
						</div>
					</div>
				</div>

				<br>
				<hr><br>

				<div class="result"></div>
			</div>

			<!-- BANNER -->
			<div class="flex-row justify-content align-self-center">
				<img src="https://cdn.discordapp.com/attachments/534893697062666240/781296881367252992/SARD-4K-laurier-noir.png"
					class="logo-banner">
			</div>

			<!-- MODALE-->
			<div class="modal fade" id="staticBackdrop" data-backdrop="false" data-keyboard="true" tabindex="-1"
				aria-labelledby="staticBackdropLabel" aria-hidden="true">
				<!-- TITRE -->
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="staticBackdropLabel">Suivi des Runs Trading</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<!-- INPUTS -->
						<div class="modal-body">
							<!-- P 1 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP1">Pilote 1</span>
								</div>
								<input type="number" class="form-control p1" placeholder="" aria-label="P 1"
									aria-describedby="basic-addonP1" value="0" min="0">
							</div>
							<!-- P 2 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP2">Pilote 2</span>
								</div>
								<input type="number" class="form-control p2" placeholder="" aria-label="P 2"
									aria-describedby="basic-addonP1" value="0" min="0">
							</div>
							<!-- P 3 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP3">Pilote 3</span>
								</div>
								<input type="number" class="form-control p3" placeholder="" aria-label="P 3"
									aria-describedby="basic-addonP3" value="0" min="0">
							</div>
							<!-- P 4 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP4">Pilote 4</span>
								</div>
								<input type="number" class="form-control p4" placeholder="" aria-label="P 4"
									aria-describedby="basic-addonP4" value="0" min="0">
							</div>
							<!-- P 5 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP5">Pilote 5</span>
								</div>
								<input type="number" class="form-control p5" placeholder="" aria-label="P 5"
									aria-describedby="basic-addonP5" value="0" min="0">
							</div>
							<!-- P 6 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP6">Pilote 6</span>
								</div>
								<input type="number" class="form-control p6" placeholder="" aria-label="P 6"
									aria-describedby="basic-addonP6" value="0" min="0">
							</div>
							<!-- P 7 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP7">Pilote 7</span>
								</div>
								<input type="number" class="form-control p7" placeholder="" aria-label="P 7"
									aria-describedby="basic-addonP7" value="0" min="0">
							</div>
							<!-- P 8 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP8">Pilote 8</span>
								</div>
								<input type="number" class="form-control p8" placeholder="" aria-label="P 8"
									aria-describedby="basic-addonP8" value="0" min="0">
							</div>
							<!-- P 9 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP9">Pilote 9</span>
								</div>
								<input type="number" class="form-control p9" placeholder="" aria-label="P 9"
									aria-describedby="basic-addonP9" value="0" min="0">
							</div>
							<!-- P 10 -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addonP10">Pilote 10</span>
								</div>
								<input type="number" class="form-control p10" placeholder="" aria-label="P 10"
									aria-describedby="basic-addonP10" value="0" min="0">
							</div>
						</div>
						<!-- FOOTER BUTTONS -->
						<div class="modal-footer">
							<button type="button" class="btn btn-danger" data-dismiss="modal">Annuler</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip"
								data-placement="top" title="Cet écran ne sera plus éditable après validation !!!"
								onclick="calcBenef()">Confirmer</button>
						</div>
					</div>
				</div>
			</div>

			<!-- RETOUR STEP 0 -->
			<div>
				<button type="button" class="btn btn-outline-danger" onclick="goToStep(0)">Retour</button>
			</div>
		</div>

		<!-- ZONE MINAGE -->
		<div id="step2" class="dnone">
			<!-- ALERT -->
			<div class="btn-modale-container">
				<div class="align-self-center">
					<button disabled="true" type="button" class="btn btn-primary mx-4 btn-calc" data-toggle="modal"
						data-target="#staticBackdrop">
						$
					</button>
					<div class="alert alert-danger alert-dismissible fade show d-none d-md-inline-flex" role="alert">
						En cours...
						<button type="button" class="close" data-dismiss="alert" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>
			</div>

			<!-- TITRE -->
			<div class="justify-content text-align-center align-self-center d-none d-xs-none d-lg-block"
				style="text-align:center;">
				<h2>Minage<br>Repartition des gains</h2>
			</div>

			<!-- INPUTS -->
			<div class="justify-content align-self-center">
				<!-- EDITABLE -->
				<div class="d-flex flex-row input-container">

					<div class="flex-column">

						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="basic-addon1">Benefs</span>
							</div>
							<input type="text" class="form-control benefsTotal" placeholder="$$$..." aria-label="Benefs"
								aria-describedby="basic-addon1" value="1000000" min="1" oninput="calc()">
							<div class="input-group-append">
								<span class="input-group-text">aUEC</span>
							</div>
						</div>
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="basic-addon2">Nb Pilotes</span>
							</div>
							<input type="text" class="form-control pilotesTotal" placeholder="" aria-label="Nb pilotes"
								aria-describedby="basic-addon2" value="1" min="1" oninput="calc()">
						</div>
					</div>

				</div>

				<hr><br>
				<div class="input-container">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="basic-addon3">SARD</span>
						</div>
						<input type="nu;ber" class="form-control percentSard" placeholder="% SARD" aria-label="% SARD"
							aria-describedby="basic-addon3" value="0" oninput="calc()">
						<div class="input-group-append">
							<span class="input-group-text">%</span>
						</div>
					</div>
				</div>

				<div class="input-container">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="basic-addon4">Chef Op.</span>
						</div>
						<input type="nu;ber" class="form-control percentPilote" placeholder="%" aria-label="% Chef Op."
							aria-describedby="basic-addon4" value="0" oninput="calc()">
						<div class="input-group-append">
							<span class="input-group-text">%</span>
						</div>
					</div>
				</div>

				<div class="input-container">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="basic-addon5">Mineurs</span>
						</div>
						<input type="nu;ber" class="form-control percentInvest" placeholder="% Invest."
							aria-label="% Invest." aria-describedby="basic-addon3" value="0" oninput="calc()">
						<div class="input-group-append">
							<span class="input-group-text">%</span>
						</div>
					</div>
				</div>

				<br>
				<hr><br>

				<div class="result"></div>
			</div>

			<div class="flex-row justify-content align-self-center">
				<img src="https://cdn.discordapp.com/attachments/534893697062666240/781296881367252992/SARD-4K-laurier-noir.png"
					class="logo-banner">
			</div>

			<div>
				<button type="button" class="btn btn-outline-danger" onclick="goToStep(0)">Retour</button>
			</div>
		</div>

	</div>

</body>


<script>
	// Define step of processes
	let step = 0;
	let stepSelector0 = document.querySelector("#step0");
	let stepSelector1 = document.querySelector("#step1");
	let stepSelector2 = document.querySelector("#step2");
	let stepSelector3 = document.querySelector("#step3");
	// Define <input> selector
	let benefsTotal = document.querySelector(".benefsTotal");
	let pilotesTotal = document.querySelector(".pilotesTotal");
	let percentSard = document.querySelector(".percentSard");
	let percentPilote = document.querySelector(".percentPilote");
	let percentInvest = document.querySelector(".percentInvest");
	// Modale selector
	let inputSelectorP1 = document.querySelector(".p1");
	let inputSelectorP2 = document.querySelector(".p2");
	let inputSelectorP3 = document.querySelector(".p3");
	let inputSelectorP4 = document.querySelector(".p4");
	let inputSelectorP5 = document.querySelector(".p5");
	let inputSelectorP6 = document.querySelector(".p6");
	let inputSelectorP7 = document.querySelector(".p7");
	let inputSelectorP8 = document.querySelector(".p8");
	let inputSelectorP9 = document.querySelector(".p9");
	let inputSelectorP10 = document.querySelector(".p10");
	// Define default values
	let benefs = 100000;
	let nbPilote = 1;
	let pSard = 10;
	let pPilote = 40;
	let pInvest = 50;
	// Set <input> values  (selector = default value)
	benefsTotal.value = benefs;
	pilotesTotal.value = nbPilote;
	percentSard.value = pSard;
	percentPilote.value = pPilote;
	percentInvest.value = pInvest;

	// Pre-set calculated result
	resultSard = benefs * (pSard / 100);
	resultPilotesTotal = benefs * (pPilote / 100);
	resultPiloteSeul = resultPilotesTotal / nbPilote;
	resultInvest = benefs * (pInvest / 100);

	// Generate the result 
	let result = document.querySelector(".result");
	result.innerHTML += "Part SARD : " + formatNumber((resultSard / 2).toFixed(0)) + " aUEC <br>";
	result.innerHTML += "Part Division : " + formatNumber((resultSard / 2).toFixed(0)) + " aUEC <br>";
	result.innerHTML += "Part pilote seul : " + formatNumber(resultPiloteSeul.toFixed(0)) + " aUEC <br>";
	result.innerHTML += "Part investisseur : " + formatNumber(resultInvest.toFixed(0)) + " aUEC <br>";


	function calc() {
		// Update values used for calc depending on <input> values.
		benefs = benefsTotal.value;
		nbPilote = pilotesTotal.value;
		pSard = percentSard.value,
			pPilote = percentPilote.value;
		pInvest = percentInvest.value;

		// Pre-set calculated result
		resultSard = benefs * (pSard / 100);
		resultPilotesTotal = benefs * (pPilote / 100);
		resultPiloteSeul = resultPilotesTotal / nbPilote;
		resultInvest = benefs * (pInvest / 100);


		// Generate the result 
		result.innerHTML = "";
		result.innerHTML += "Part SARD : " + formatNumber((resultSard / 2).toFixed(0)) + " aUEC <br>";
		result.innerHTML += "Part Division : " + formatNumber((resultSard / 2).toFixed(0)) + " aUEC <br>";
		result.innerHTML += "Part pilote seul : " + formatNumber(resultPiloteSeul.toFixed(0)) + " aUEC <br>";
		result.innerHTML += "Part investisseur : " + formatNumber(resultInvest.toFixed(0)) + " aUEC <br>";

	}

	function goToStep(stepNb) {
		step = stepNb;
		switch (step) {
			case 0:
				// Show step 0
				stepSelector0.classList.remove(['dnone']);
				stepSelector0.classList.add(['isVisible']);
				// Hide step 1
				stepSelector1.classList.remove(['isVisible']);
				stepSelector1.classList.add(['dnone']);
				// Hide step 2
				stepSelector2.classList.remove(['isVisible']);
				stepSelector2.classList.add(['dnone']);
				break;
			case 1:
				// Hide step 0
				stepSelector0.classList.remove(['isVisible']);
				stepSelector0.classList.add(['dnone']);
				// Display step 1
				stepSelector1.classList.remove(['dnone']);
				stepSelector1.classList.add(['isVisible']);
				// Hide step 2
				stepSelector2.classList.remove(['isVisible']);
				stepSelector2.classList.add(['dnone']);
				break;
			case 2:
				// Hide step 0
				stepSelector0.classList.remove(['isVisible']);
				stepSelector0.classList.add(['dnone']);
				// Hide step 1
				stepSelector1.classList.remove(['isVisible']);
				stepSelector1.classList.add(['dnone']);
				// Display step 2
				stepSelector2.classList.remove(['dnone']);
				stepSelector2.classList.add(['isVisible']);
				break;
			case 3:
				break;
			default:
				break;
		}
	}

	function calcBenef() {
		benefs = (
			Number(inputSelectorP1.value)
			+ Number(inputSelectorP2.value)
			+ Number(inputSelectorP3.value)
			+ Number(inputSelectorP4.value)
			+ Number(inputSelectorP5.value)
			+ Number(inputSelectorP6.value)
			+ Number(inputSelectorP7.value)
			+ Number(inputSelectorP8.value)
			+ Number(inputSelectorP9.value)
			+ Number(inputSelectorP10.value)
		);
		benefsTotal.value = benefs;
		this.calc();
	}

	function formatNumber(num) {
		return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
	}

</script>

</html>